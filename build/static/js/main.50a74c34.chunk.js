(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{141:function(e,t,n){e.exports=n(350)},350:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(134),i=n.n(r),s=n(39),c=n(18),u=n.n(c),l=n(27),p=n(135),d=n(136),h=n(139),f=n(137),b=n(140),m=n(7),N=n.n(m),w=n(138),v="mutation CreateNote($input: CreateNoteInput!) {\n  createNote(input: $input) {\n    id\n    note\n  }\n}\n",g="mutation UpdateNote($input: UpdateNoteInput!) {\n  updateNote(input: $input) {\n    id\n    note\n  }\n}\n",_="mutation DeleteNote($input: DeleteNoteInput!) {\n  deleteNote(input: $input) {\n    id\n    note\n  }\n}\n",O="query ListNotes(\n  $filter: ModelNoteFilterInput\n  $limit: Int\n  $nextToken: String\n) {\n  listNotes(filter: $filter, limit: $limit, nextToken: $nextToken) {\n    items {\n      id\n      note\n    }\n    nextToken\n  }\n}\n",k=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(o)))).state={id:"",note:"",notes:[]},n.getNotes=Object(l.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.API.graphql(Object(m.graphqlOperation)(O));case 2:t=e.sent,n.setState({notes:t.data.listNotes.items});case 4:case"end":return e.stop()}},e)})),n.handleChangeNote=function(e){return n.setState({note:e.target.value})},n.hasExistingNote=function(){var e=n.state,t=e.notes,a=e.id;return!!a&&t.findIndex(function(e){return e.id===a})>-1},n.handleAddNote=function(){var e=Object(l.a)(u.a.mark(function e(t){var a,o,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.state,o=a.note,a.notes,t.preventDefault(),!n.hasExistingNote()){e.next=6;break}n.handleUpdateNote(),e.next=10;break;case 6:return r={note:o},e.next=9,m.API.graphql(Object(m.graphqlOperation)(v,{input:r}));case 9:n.setState({note:""});case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.handleUpdateNote=Object(l.a)(u.a.mark(function e(){var t,a,o,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state,a=t.id,o=t.note,r={id:a,note:o},e.next=4,m.API.graphql(Object(m.graphqlOperation)(g,{input:r}));case 4:case"end":return e.stop()}},e)})),n.handleDeleteNote=function(){var e=Object(l.a)(u.a.mark(function e(t){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.state.notes,a={id:t},e.next=4,m.API.graphql(Object(m.graphqlOperation)(_,{input:a}));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.handleSetNote=function(e){var t=e.note,a=e.id;return n.setState({note:t,id:a})},n}return Object(b.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.getNotes(),this.createNoteListener=m.API.graphql(Object(m.graphqlOperation)("subscription OnCreateNote {\n  onCreateNote {\n    id\n    note\n  }\n}\n")).subscribe({next:function(t){var n=t.value.data.onCreateNote,a=e.state.notes.filter(function(e){return e.id!==n.id}),o=[].concat(Object(s.a)(a),[n]);e.setState({notes:o})}}),this.deleteNoteListener=m.API.graphql(Object(m.graphqlOperation)("subscription OnDeleteNote {\n  onDeleteNote {\n    id\n    note\n  }\n}\n")).subscribe({next:function(t){var n=t.value.data.onDeleteNote,a=e.state.notes.filter(function(e){return e.id!==n.id});e.setState({notes:a})}}),this.updatedNoteListener=m.API.graphql(Object(m.graphqlOperation)("subscription OnUpdateNote {\n  onUpdateNote {\n    id\n    note\n  }\n}\n")).subscribe({next:function(t){var n=e.state.notes,a=t.value.data.onUpdateNote,o=e.state.notes.findIndex(function(e){return e.id===a.id}),r=[].concat(Object(s.a)(n.slice(0,o)),[a],Object(s.a)(n.slice(o+1)));e.setState({notes:r,note:"",id:""})}})}},{key:"componentWillUnmount",value:function(){this.createNoteListener.unsubscribe(),this.deleteNoteListener.unsubscribe(),this.updatedNoteListener.unsubscribe()}},{key:"render",value:function(){var e=this,t=this.state,n=t.id,a=t.notes,r=t.note;return o.a.createElement("div",{className:"flex flex-column items-center justify-center pa3 bg-washed-red"},o.a.createElement("h1",{className:"code f2-l"},"Amplify Notetaker"),o.a.createElement("form",{onSubmit:this.handleAddNote,className:"mb3"},o.a.createElement("input",{type:"text",className:"pa2 f4",placeholder:"Write your note",onChange:this.handleChangeNote,value:r}),o.a.createElement("button",{className:"pa2 f4",type:"submit"},n?"Update Note":"Add Note")),o.a.createElement("div",null,a.map(function(t){return o.a.createElement("div",{key:t.id,className:"flex items-center"},o.a.createElement("li",{onClick:function(){return e.handleSetNote(t)},className:"list pa1 f3"},t.note),o.a.createElement("button",{onClick:function(){return e.handleDeleteNote(t.id)},className:"bg-transparent bn f4"},o.a.createElement("span",null,"\xd7")))})))}}]),t}(a.Component),y=Object(w.withAuthenticator)(k,{includeGreetings:!0});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var x={aws_project_region:"us-west-2",aws_cognito_identity_pool_id:"us-west-2:fdeb5c79-abdb-426a-b854-271a8a6a5635",aws_cognito_region:"us-west-2",aws_user_pools_id:"us-west-2_HkQwCXfW2",aws_user_pools_web_client_id:"1becqv2plj9fj8u3q2hure7dvu",oauth:{},aws_appsync_graphqlEndpoint:"https://rwsklerz4fbb5hhtmkcj5m5amq.appsync-api.us-west-2.amazonaws.com/graphql",aws_appsync_region:"us-west-2",aws_appsync_authenticationType:"AMAZON_COGNITO_USER_POOLS",aws_content_delivery_bucket:"amplify-notetaker-20190619235030-hostingbucket-noteenv",aws_content_delivery_bucket_region:"us-west-2",aws_content_delivery_url:"http://amplify-notetaker-20190619235030-hostingbucket-noteenv.s3-website-us-west-2.amazonaws.com"};N.a.configure(x),i.a.render(o.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},45:function(e,t){}},[[141,1,2]]]);
//# sourceMappingURL=main.50a74c34.chunk.js.map